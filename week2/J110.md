# Relay Quest
#### J110 박서연

### 퀘스트 1️⃣
- 퀘스트: 코어 타임 1시간 중 한 번 이상 스트레칭하기
- 수행: 점점 거북목이 되어가는게 느껴지는 것 같아서 목 스트레칭을 많이 했다. 

### 퀘스트 2️⃣
- 개발중 수행할수 있는 간단한 소목표 설정하고 개발하기
- 수행: 목차를 작성할때 세부적 사항도 포함하는 동시에 가독성도 고려하려고 노력했다. 
- Day 11-12
    - Concept Review (o)
        1. asynchronous processing (o)
        2. Parallel Processing and Threads (o)
        3. Thread Pool (o)
        4. Event Emitter (o)
        5. Amazing Reference (o) 

    - Implement Event Manager (step 1) (o)
        - Design (o)
        - Moduling (o)
        - Implementation (o)
            1. `Event Manager`
            2. `POS`
            3. `Worker`
            4. `Delivery Man`
            5. `Dashboard`
        - Output (o)

    - Pair Review / partner: J087 도성현 (o)
        - Data flow in Mermaid (o)
        - Things to reconsider (o)
        - Renewed output (o)

    - Implement Multi-Center Delivery Simulator (step 2)
        - Design (o)
        - Moduling
        - Implementation 

    - Issues 
        - circular dependancy --> still not solved......
        - input vs process asynchronous conflict --> damn.....

- Day 13-14
    - [x]  `git` 저수준 명령어 구현하기
    - [x]  `git hash-object {file}` : `.git/objects` 디렉토리에 저장하고 그 데이터에 접근할 수 있는 key 를 알려준다. 이 key는 저장소 내에서 유일하다.
    - [x]  `git update-index {file}` : 파일은 인위적으로 Staging Area에 추가하는 명령어이다.
    - [x]  `git write-tree` : Staging Area를 Tree 개체로 저장한다.
    - [x]  `git commit-tree {tree SHA}` : 커밋 개체를 생성한다.
    - [x]  `mit` 명렁어 요구사항 구현하기
        - [x]  `mit init 디렉토리명`
            - 디렉토리 아래에 `.mit` 하위 디렉토리를 만든다.
                - 오브젝트 : `디렉토리명/.mit/objects/` 또는 윈도우 `디렉토리명\.mit\objects\`
                - 인덱스 : `디렉토리명/.mit/index/` 또는 윈도우 `디렉토리명\.mit\index\`
        - [x]  `mit add 디렉토리명`
            - 디렉토리에서 전체 파일 목록을 탐색하고, 각 파일 내용에 대한 sha256 해시 값을 비교한다.
            - commit이 없거나 직전 commit 이후 해시값이 달라진 파일 목록을 저장한다.
        - [x]  `mit status 디렉토리명`
            - add 명령으로 만들어진 변경된 파일 목록을 전체 경로와 함께 출력한다.
        - [x]  `mit commit 디렉토리명`
            - 반드시 add 명령으로 만들어진 변경 파일 목록을 대상으로 아래처럼 동작한다
                - **<blob 오브젝트>**
                    - 파일별로 blob 오브젝트를 생성한다.
                        - 해시값 앞에 8자리를 objects 하위 디렉토리로 생성한다.
                        - 나머지 부분을 파일명으로 (위에서 만든 해시값 앞자리 디렉토리에) 저장한다.
                        - blob 오브젝트 파일 내용은 원본 파일을 zlib로 압축해서 저장한다.
                - **<tree 오브젝트>**
                    - blob 파일에 대한 기록은 tree 오브젝트에 저장한다. tree 오브젝트 파일은 objects 아래에 blob 규칙과 동일하게 생성한다.
                        - tree 오브젝트는 blob마다 `blob해시값, 압축후 파일크기, 파일명` 순서로 한 줄씩 문자열로 기록한다.
                        - 변경된 파일이 3개면 3줄이 생겨야 한다 .
                        - 작성한 tree 오브젝트 내용을 기준으로 sha256 해시값으로 blob와 동일하게 파일명을 만든다.
                - **<commit 오브젝트>**
                    - 커밋할 때마다 이전 트리와 현재 트리를 포함하는 commit 오브젝트를 objects 아래에 생성한다.
                        - commit 오브젝트는 2가지 정보를 포함한다.
                        - 1번째줄은 `이전 tree 해시값, 현재 tree 해시값`
                        - 2번째줄은 `날짜`
                        - 작성한 commit 오브젝트 내용을 기준으로 sha256 해시값으로 blob와 동일하게 파일명을 만든다.
                    - 커밋 기록을 index에 기록한다.
                        - `.mit/index/commits` 파일에 시간 역순으로 커밋 해시값을 한 줄씩 기록한다. 마지막 커밋이 스택 형태로 위에 추가한다.
        - [x]  `mit log 디렉토리명`
            - `디렉토리명/.mit/index/commits` 에서 커밋을 찾아서 이력을 출력한다.
            - commit 마다 현재 tree를 확인해서 변경된 파일명을 함께 표시한다.
        - [x]  `mit restore 디렉토리명 {8자리 | 64자리 커밋해시값}`
            - 특정한 커밋 해시값을 입력하면, 최신 커밋부터 차례대로 커밋 파일의 tree에 포함된 blob 내용을 꺼내서 파일을 복원한다.
            - 커밋 해시값은 앞 8자리만 입력하는 경우에도 해당 object 디렉토리에 커밋 파일이 1개만 있는 경우 그 커밋을 복원한다.
            - 단계별로 커밋은 index/commits 파일에서 삭제하고, 입력한 커밋해시값을 가진 커밋 정보까지만 남겨놓는다.
            - 복원 과정에서 필요없는 commit, tree, blob 오브젝트는 삭제하지 않는다.
        - [x]  `mit init 디렉토리명` 이 실행되지 않은 부분에서 다른 명령어가 실행된 경우에 대한 예외처리
